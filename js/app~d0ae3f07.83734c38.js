(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~d0ae3f07"],{0:function(e,t,a){e.exports=a("cd49")},"02f0":function(e,t,a){"use strict";a.d(t,"a",function(){return i});const i={username:"admin",password:"admin"}},"034f":function(e,t,a){"use strict";var i=a("1356"),s=a.n(i);s.a},"0c83":function(e,t,a){},"108b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("crud",{attrs:{items:e.items,headers:e.headers,crudKey:"users",rightPrefix:"USER",refreshing:e.refreshing},on:{deleteItem:e.deleteItem,createItem:e.createItem,updateItem:e.updateItem,refreshItems:e.refreshItems}})},s=[],r=a("9ab4"),n=a("65d9"),l=a.n(n),o=a("867f"),c=a("02f0"),u=a("60a3"),d=a("c14e"),f=a("3505"),h=a("68de"),p=a("b5a7"),m=a("73ec");class b{constructor(e){this.p=e}print(e){return"function"===typeof this.p?this.p(e):e[this.p]}get printer(){return this.p}}let v=class extends(Object(u["b"])(d["a"],f["a"],h["a"],m["a"])){constructor(){super(...arguments),this.profiles=[],this.clubs=[],this.clubIds=[]}created(){this.headers=[{align:"left",sortable:!0,value:"email",prepend_icon:"fa-at",width:"33%",validators:[this.mail()],required:!0},{align:"left",sortable:!0,value:"profile.type",itemText:new b("name"),itemValue:new b("id"),width:"33%",required:!0,type:this.TYPE_LIST,list:this.profiles},{align:"left",sortable:!0,value:"profile.clubIds",itemText:new b(e=>this.clubs.filter(t=>t.id===e)[0].name),itemValue:new b("value"),chipText:new b(e=>this.clubs.filter(t=>t.id===e)[0].shortName),width:"33%",type:this.TYPE_LIST_MULTI,list:this.clubIds},{value:"edit",type:this.TYPE_ACTION},{value:"delete",type:this.TYPE_ACTION}]}getRefreshPromise(){const e=new o["c"](c["a"]).findClubs(this.userToken),t=new o["d"](c["a"]).findProfileTypes(this.userToken),a=new o["i"](c["a"]).findUsers(this.userToken),i=e.then(e=>{return this.initArray(this.clubs,e.data),this.initArray(this.clubIds,e.data.sort((e,t)=>e.name.localeCompare(t.name)).map(e=>e.id)),t}).then(e=>{return this.initArray(this.profiles,e.data.sort((e,t)=>e.name.localeCompare(t.name))),a});return i}getDeletePromise(e){return new o["i"](c["a"]).deleteUser(this.userToken,e)}getCreatePromise(e){return new o["i"](c["a"]).createUser(this.userToken,e)}getUpdatePromise(e){return new o["i"](c["a"]).updateUser(this.userToken,e.id,e)}};v=r["a"]([l()({components:{Crud:p["a"]}})],v);var g=v,y=g,x=a("2877"),_=Object(x["a"])(y,i,s,!1,null,null,null);t["default"]=_.exports},1356:function(e,t,a){},"13f9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("crud",{attrs:{items:e.items,headers:e.headers,crudKey:"seasons",rightPrefix:"SEASON",refreshing:e.refreshing},on:{deleteItem:e.deleteItem,createItem:e.createItem,updateItem:e.updateItem,refreshItems:e.refreshItems}})},s=[],r=a("9ab4"),n=a("65d9"),l=a.n(n),o=a("867f"),c=a("60a3"),u=a("c14e"),d=a("3505"),f=a("68de"),h=a("b5a7"),p=a("02f0");let m=class extends(Object(c["b"])(u["a"],d["a"],f["a"])){created(){this.headers=[{align:"left",sortable:!0,value:"description",prepend_icon:"far fa-comment-dots",width:"40%",required:!0},{align:"left",sortable:!0,value:"begin",prepend_icon:"far fa-calendar-alt",type:this.TYPE_DATE,width:"30%",required:!0},{align:"left",sortable:!0,value:"end",prepend_icon:"far fa-calendar-alt",type:this.TYPE_DATE,width:"30%",required:!0},{value:"edit",type:this.TYPE_ACTION},{value:"delete",type:this.TYPE_ACTION}]}getRefreshPromise(){return new o["d"](p["a"]).findSeasons(this.userToken)}getDeletePromise(e){return new o["d"](p["a"]).deleteSeason(this.userToken,e.toString())}getCreatePromise(e){return new o["d"](p["a"]).createSeason(this.userToken,e)}getUpdatePromise(e){return new o["d"](p["a"]).updateSeason(this.userToken,e.id,e)}};m=r["a"]([l()({components:{Crud:h["a"]}})],m);var b=m,v=b,g=a("2877"),y=Object(g["a"])(v,i,s,!1,null,null,null);t["default"]=y.exports},"21ea":function(e,t,a){},3183:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{id:"refDeleteDialog",persistent:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.escapeDeleteDialog()}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.title))]),a("v-card-actions",[a("v-spacer"),e._l(e.buttons,function(t){return[a("v-btn",{attrs:{id:t.id,color:"blue darken-1",disabled:e.anyWorking(),loading:t.working,flat:""},on:{click:function(a){return e.onClick(t)}}},[e._v("\n                    "+e._s(e.$t(t.title))+"\n                ")])]})],2)],1)],1)},s=[],r=a("9ab4"),n=a("60a3"),l=a("73ec"),o=a("68de");let c=class extends(Object(n["b"])(l["a"],o["a"])){constructor(){super(...arguments),this.working=!1}get dialog(){return this.value}set dialog(e){this.$emit("input",e)}escapeDeleteDialog(){this.working||(this.dialog=!1)}onClick(e){e.working=!0,e.clickPromise().then(()=>{e.working=!1,this.dialog=!1}).catch(()=>{e.working=!1})}anyWorking(){return this.buttons.filter(e=>e.working).length>0}};r["a"]([Object(n["c"])()],c.prototype,"value",void 0),r["a"]([Object(n["c"])()],c.prototype,"title",void 0),r["a"]([Object(n["c"])()],c.prototype,"buttons",void 0),c=r["a"]([n["a"]],c);var u=c,d=u,f=a("2877"),h=a("6544"),p=a.n(h),m=a("8336"),b=a("b0af"),v=a("99d9"),g=a("12b2"),y=a("169a"),x=a("9910"),_=Object(f["a"])(d,i,s,!1,null,null,null);t["a"]=_.exports;p()(_,{VBtn:m["a"],VCard:b["a"],VCardActions:v["a"],VCardTitle:g["a"],VDialog:y["a"],VSpacer:x["a"]})},"31f5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},[a("v-card",{staticStyle:{height:"100%",display:"flex","flex-direction":"column"}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.$t("affiliationsToValidate.title"))+" ("+e._s(e.affiliations.length)+")")])]),a("v-card-text",{staticStyle:{flex:"1"}},[a("split-pane",{attrs:{"min-percent":20,"default-percent":30,split:"vertical"}},[a("template",{slot:"paneL"},[a("v-list",{staticStyle:{height:"100%","overflow-y":"scroll"},attrs:{"two-line":""}},[e._l(e.affiliations,function(t,i){return[t.header?a("v-subheader",{key:t.header},[e._v("\n                                "+e._s(t.club.name)+"\n                            ")]):e._e(),a("v-list-tile",{key:i,attrs:{to:{name:"affiliationValidation",params:{id:t.affiliation.affiliation.id}}},on:{click:function(a){e.current=t}}},[a("v-list-tile-avatar",[a("img",{attrs:{src:e.getLogo(t)}})]),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.club.name)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.affiliation.season.description)}})],1)],1)]})],2)],1),a("template",{slot:"paneR"},[e.current?a("router-view",{key:e.current.club.id,staticStyle:{height:"100%"},attrs:{entity:e.current.affiliation.affiliation,clubId:e.current.club.id,seasonId:e.current.affiliation.season.id},on:{cancel:e.cancel}}):e._e()],1)],2)],1)],1)],1)},s=[],r=a("9ab4"),n=a("867f"),l=a("60a3"),o=a("73ec"),c=a("68de"),u=a("02f0"),d=a("b850");let f=class extends(Object(l["b"])(o["a"],c["a"])){constructor(){super(...arguments),this.affiliations=[],this.clubs=[]}getLogo(e){const t=e.club.logo;return t?t.location:null}get current(){const e=this.$route.params.id;return e?this.affiliations.filter(t=>t.affiliation.affiliation.id===+e)[0]:null}set current(e){}async beforeRouteEnter(e,t,a){const i=d["a"].getters.userToken,s=(await new n["c"](u["a"]).findClubs(i)).data,r=[];await Promise.all(s.map(async e=>{const t=(await new n["b"](u["a"]).findAllClubAffiliations(i,e.id)).data;t.filter(e=>e.affiliation.status===n["a"].SUBMITTED).forEach(t=>r.push({club:e,affiliation:t}))})),a(e=>{e.affiliations=r,e.clubs=s})}cancel(){}};f=r["a"]([l["a"]],f);var h=f,p=h,m=a("2877"),b=a("6544"),v=a.n(b),g=a("b0af"),y=a("99d9"),x=a("12b2"),_=a("8860"),T=a("ba95"),I=a("c954"),k=a("5d23"),w=a("e0c7"),E=Object(m["a"])(p,i,s,!1,null,null,null);t["default"]=E.exports;v()(E,{VCard:g["a"],VCardText:y["b"],VCardTitle:x["a"],VList:_["a"],VListTile:T["a"],VListTileAvatar:I["a"],VListTileContent:k["a"],VListTileSubTitle:k["b"],VListTileTitle:k["c"],VSubheader:w["a"]})},3505:function(e,t,a){"use strict";var i=a("9ab4"),s=a("2b0e"),r=a("65d9"),n=a.n(r);let l=class extends s["default"]{constructor(){super(...arguments),this.TYPE_DATE="date",this.TYPE_IMAGE="image",this.TYPE_ACTION="action",this.TYPE_LIST="list",this.TYPE_LIST_MULTI="list_multi"}};l=i["a"]([n.a],l),t["a"]=l},"3c60":function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n}),a.d(t,"c",function(){return l});var i=a("bc3a"),s=a.n(i);const r="https://sikb-api.eu-west-3.elasticbeanstalk.com/api/v1".replace(/\/+$/,"");class n{constructor(e,t=r,a=s.a){this.basePath=t,this.axios=a,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}}class l extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}},"48ab":function(e,t,a){"use strict";a.d(t,"a",function(){return i});class i{constructor(e,t,a){this.title=e,this.id=t,this.click=a,this.working=!1}get clickPromise(){return this.click}}},"49f8":function(e,t,a){var i={"./en.json":"edd4","./fr.json":"f693"};function s(e){var t=r(e);return a(t)}function r(e){var t=i[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(i)},s.resolve=r,e.exports=s,s.id="49f8"},5732:function(e,t,a){t.loadMessagesFiles=function(){return a("49f8")}},"5f86":function(e,t,a){"use strict";var i=a("2b0e"),s=a("8c4f"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-fade-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)},n=[],l=a("2877"),o=a("6544"),c=a.n(o),u=a("0789"),d={},f=Object(l["a"])(d,r,n,!1,null,null,null),h=f.exports;c()(f,{VFadeTransition:u["b"]});var p=a("867f"),m=a("b850"),b=a("323e"),v=a.n(b);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};i.get||i.set?Object.defineProperty(t,a,i):t[a]=e[a]}return t.default=e,t}a.d(t,"a",function(){return y}),a.d(t,"e",function(){return I}),a.d(t,"d",function(){return w}),a.d(t,"b",function(){return E}),i["default"].use(s["a"]);const y="club";let x=0;const _=[{path:"persons",name:"persons",component:()=>Promise.resolve().then(()=>g(a("ae09"))),meta:{features:[p["e"].PERSONREAD]}},{path:"seasons",name:"seasons",component:()=>Promise.resolve().then(()=>g(a("13f9"))),meta:{features:[p["e"].SEASONREAD]}},{path:"clubs",name:"clubs",component:()=>Promise.resolve().then(()=>g(a("f03f"))),meta:{features:[p["e"].CLUBREAD]}},{path:"users",name:"users",component:()=>Promise.resolve().then(()=>g(a("108b"))),meta:{features:[p["e"].USERREAD]}}],T=[{path:"affiliations",name:"affiliationsValidation",component:()=>Promise.resolve().then(()=>g(a("31f5"))),meta:{features:[p["e"].AFFILIATIONVALIDATE]},children:[{path:":id",name:"affiliationValidation",component:()=>Promise.resolve().then(()=>g(a("ad97"))),meta:{features:[p["e"].AFFILIATIONVALIDATE]}}]}],I=[{path:"/home",name:"home",meta:{icon:"home"},component:()=>Promise.resolve().then(()=>g(a("bb51")))},{path:"/admin",name:"admin",component:h,children:_,meta:{icon:"verified_user"}},{path:"/tasks",name:"tasks",component:h,children:T,meta:{icon:"fa-tasks"}},{path:"/club/:clubId",name:y,component:h,meta:{icon:"verified_user"},children:[{path:"general",name:"general",component:()=>Promise.resolve().then(()=>g(a("ca07"))),meta:{icon:"verified_user"}},{path:"affiliations",name:"affiliations",component:()=>Promise.resolve().then(()=>g(a("f0ef"))),meta:{icon:"verified_user"},children:[{path:":seasonId",name:"affiliation",component:()=>Promise.resolve().then(()=>g(a("ad97"))),meta:{icon:"verified_user"}}]}]}],k=[{path:"/login",name:"login",component:()=>Promise.resolve().then(()=>g(a("a55b")))},{path:"/",component:()=>Promise.resolve().then(()=>g(a("d9ce"))),redirect:"/login",children:I},{path:"*",redirect:"/home"}],w=()=>{0===x&&v.a.start(),x++},E=()=>{setTimeout(()=>{x--,0===x&&v.a.done()})},C=()=>{const e=new s["a"]({mode:"hash",base:"/sikb-front/",routes:k});return e.beforeEach((e,t,a)=>{w(),e.meta&&e.meta.features&&0===e.meta.features.filter(e=>-1!==m["a"].getters.features.indexOf(e)).length?(a(!1),E()):a()}),e.afterEach((e,t)=>{E()}),e},O=C();t["c"]=O},"68de":function(e,t,a){"use strict";var i=a("9ab4"),s=a("2b0e"),r=a("65d9"),n=a.n(r);let l=class extends s["default"]{required(e="validator.field.required"){return t=>!!t||this.$t(e)}phoneNumber(){return e=>!e||/0[\d]{9}/.test(e)||this.$t("validator.phoneNumber")}mail(){return e=>/.+@.+/.test(e)||this.$t("validator.mail")}maxLength(e){return t=>!t||t.length<=e||this.$t("validator.maxLength",[e])}};l=i["a"]([n.a],l),t["a"]=l},"73ec":function(e,t,a){"use strict";var i=a("9ab4"),s=a("2b0e"),r=a("65d9"),n=a.n(r);let l=class extends s["default"]{resolveProperty(e,t){return e.split(".").reduce((e,t)=>e?e[t]:null,t||self)}setProperty(e,t,a){const i=e.split("."),s=i[0],r=i.pop(),n=this.copy(t);i.reduce((e,t)=>{if(e)return e.hasOwnProperty(t)||(e[t]={}),e[t]},n||self)[r]=a,t[s]=n[s]}initArray(e,t){e.splice(0,e.length),t.forEach(t=>e.push(t))}translate(e,t){return this.$te(e)?this.$t(e):this.$t(t)}copy(e,t={}){return Object.assign(t,JSON.parse(JSON.stringify(e))),t}equals(e,t){if(null===e||void 0===e)return null===t||void 0===t;if(null===t||void 0===t)return!1;{const i=a("5da1");return i(e,t)}}omit(e,t){const a=this.copy(e);return delete a[t],a}};l=i["a"]([n.a],l),t["a"]=l},"867f":function(e,t,a){"use strict";var i=a("3651");a.d(t,"a",function(){return i["a"]}),a.d(t,"e",function(){return i["e"]}),a.d(t,"h",function(){return i["h"]}),a.d(t,"b",function(){return i["b"]}),a.d(t,"c",function(){return i["c"]}),a.d(t,"d",function(){return i["d"]}),a.d(t,"f",function(){return i["f"]}),a.d(t,"g",function(){return i["g"]}),a.d(t,"i",function(){return i["i"]})},a004:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","position-x":e.x,"position-y":e.y,"full-width":"","min-width":"290px"},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{rules:[e.required()]},on:{input:function(t){e.menu=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("v-text-field",{attrs:{label:e.label,rules:e.rules,"prepend-icon":"event"},on:{blur:function(t){return e.blur()},"click:prepend":e.click},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}})],1)},s=[],r=a("9ab4"),n=a("60a3"),l=a("73ec"),o=a("68de");let c=class extends(Object(n["b"])(l["a"],o["a"])){constructor(){super(...arguments),this.menu=!1,this.dateFormatted="",this.x=0,this.y=0}watchDate(e){this.dateFormatted=this.formatDate(this.date)}click(e){this.menu=!0,this.x=e.clientX,this.y=e.clientY}get date(){return this.value}set date(e){this.$emit("input",e),this.dateFormatted=this.formatDate(e)}blur(){if(""===this.dateFormatted)this.date="";else if(this.isValidDate(this.dateFormatted)){const e=this.parseDate(this.dateFormatted);e!=this.date&&(this.date=e)}else this.dateFormatted=this.formatDate(this.value)}isValidDate(e){const[t,a,i]=e.split("/"),s=new Date(+i,+a-1,+t);return s.getFullYear()===+i&&s.getMonth()===+a-1&&s.getDate()===+t}formatDate(e){if(!e)return"";const[t,a,i]=e.split("-");return`${i}/${a}/${t}`}parseDate(e){const[t,a,i]=e.split("/");return`${i}-${a.padStart(2,"0")}-${t.padStart(2,"0")}`}};r["a"]([Object(n["c"])()],c.prototype,"value",void 0),r["a"]([Object(n["c"])()],c.prototype,"label",void 0),r["a"]([Object(n["c"])()],c.prototype,"rules",void 0),r["a"]([Object(n["e"])("date",{immediate:!0,deep:!0})],c.prototype,"watchDate",null),c=r["a"]([n["a"]],c);var u=c,d=u,f=a("2877"),h=a("6544"),p=a.n(h),m=a("2e4b"),b=a("e449"),v=a("2677"),g=Object(f["a"])(d,i,s,!1,null,null,null);t["a"]=g.exports;p()(g,{VDatePicker:m["a"],VMenu:b["a"],VTextField:v["a"]})},a55b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Login form")])],1),a("v-card-text",[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{id:"login",rules:[e.required("validator.login.required")],"prepend-icon":"person",name:"login",label:e.$t("login.login"),type:"text"},model:{value:e.credientials.login,callback:function(t){e.$set(e.credientials,"login",t)},expression:"credientials.login"}}),a("v-text-field",{attrs:{id:"password",type:e.showPassword?"text":"password","append-icon":e.showPassword?"visibility":"visibility_off",rules:[e.required("validator.password.required")],"prepend-icon":"lock",name:"password",label:e.$t("login.password")},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.credientials.password,callback:function(t){e.$set(e.credientials,"password",t)},expression:"credientials.password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{id:"btnLogin",loading:e.loading,disabled:e.loading||!e.valid,color:"primary"},on:{click:function(t){return e.onLogin()}}},[e._v(e._s(e.$t("login.validate")))])],1)],1)],1)],1)],1)],1)],1)},s=[],r=a("9ab4"),n=a("65d9"),l=a.n(n),o=a("60a3"),c=a("68de"),u=a("4bb5");let d=class extends(Object(o["b"])(c["a"])){constructor(){super(...arguments),this.credientials={login:"",password:""},this.valid=!1,this.loading=!1,this.redirect=null,this.showPassword=!1}onLogin(){this.loading=!0,this.$store.dispatch("Login",this.credientials).then(()=>{this.$router.push({path:this.redirect||"/home"}),this.loading=!1}).catch(e=>{this.loading=!1})}watchRoute(e){this.redirect=e.query&&e.query.redirect}};r["a"]([u["a"]],d.prototype,"userToken",void 0),r["a"]([Object(o["e"])("$route",{immediate:!0,deep:!0})],d.prototype,"watchRoute",null),d=r["a"]([l.a],d);var f=d,h=f,p=a("2877"),m=a("6544"),b=a.n(m),v=a("7496"),g=a("8336"),y=a("b0af"),x=a("99d9"),_=a("a523"),T=a("549c"),I=a("0e8f"),k=a("4bd4"),w=a("a722"),E=a("9910"),C=a("2677"),O=a("71d9"),P=a("2a7f"),V=Object(p["a"])(h,i,s,!1,null,null,null);t["default"]=V.exports;b()(V,{VApp:v["a"],VBtn:g["a"],VCard:y["a"],VCardActions:x["a"],VCardText:x["b"],VContainer:_["a"],VContent:T["a"],VFlex:I["a"],VForm:k["a"],VLayout:w["a"],VSpacer:E["a"],VTextField:C["a"],VToolbar:O["a"],VToolbarTitle:P["a"]})},ad97:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{staticStyle:{height:"100%"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("Dialog",{attrs:{title:e.$t("crud.confirmDelete"),buttons:e.deleteButtons},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}}),a("v-card",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[a("v-container",{staticStyle:{"flex-shrink":"1","overflow-y":"scroll"},attrs:{"grid-list-md":""}},[a("v-stepper",{staticStyle:{"box-shadow":"none"},attrs:{"alt-labels":""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.currentStep>1,step:"1"}},[e._v(e._s(e.$t("affiliation.status.TO_COMPLETE")))]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.currentStep>2,step:"2"}},[e._v(e._s(e.$t("affiliation.status.SUBMITTED")))]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.currentStep>3,step:"3"}},[e._v(e._s(e.$t("affiliation.status.VALIDATED")))])],1)],1),a("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"center"}},[e.canValidate()?a("v-btn",{attrs:{id:"btnAffiliationValidate",color:"success",disabled:!e.valid,loading:e.saving},on:{click:e.validate}},[e._v("\n                    "+e._s(e.$t("validate"))+"\n                ")]):e._e(),e.canReject()?a("v-btn",{attrs:{id:"btnAffiliationReject",color:"error",disabled:!e.valid,loading:e.saving},on:{click:e.reject}},[e._v("\n                    "+e._s(e.$t("reject"))+"\n                ")]):e._e(),e.canSubmit()?a("v-btn",{attrs:{id:"btnAffiliationSubmit",color:"success",disabled:!e.valid,loading:e.saving},on:{click:e.submit}},[e._v("\n                    "+e._s(e.$t("submit"))+"\n                ")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{id:"prefectureCity",label:e.$t("affiliation.prefectureCity"),rules:[e.required()]},model:{value:e.entity.prefectureCity,callback:function(t){e.$set(e.entity,"prefectureCity",t)},expression:"entity.prefectureCity"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:e.$t("affiliation.prefectureNumber"),rules:[e.required()]},model:{value:e.entity.prefectureNumber,callback:function(t){e.$set(e.entity,"prefectureNumber",t)},expression:"entity.prefectureNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:e.$t("affiliation.siretNumber"),rules:[e.required()]},model:{value:e.entity.siretNumber,callback:function(t){e.$set(e.entity,"siretNumber",t)},expression:"entity.siretNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:e.$t("affiliation.address"),rules:[e.required()]},model:{value:e.entity.address,callback:function(t){e.$set(e.entity,"address",t)},expression:"entity.address"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:e.$t("affiliation.postalCode"),rules:[e.required()]},model:{value:e.entity.postalCode,callback:function(t){e.$set(e.entity,"postalCode",t)},expression:"entity.postalCode"}})],1),a("v-flex",{attrs:{xs12:"",sm9:"",md9:""}},[a("v-text-field",{attrs:{label:e.$t("affiliation.city"),rules:[e.required()]},model:{value:e.entity.city,callback:function(t){e.$set(e.entity,"city",t)},expression:"entity.city"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticStyle:{"max-width":"20em"},attrs:{mask:"##########",label:e.$t("affiliation.phoneNumber"),rules:[e.phoneNumber()],"prepend-icon":"smartphone"},model:{value:e.entity.phoneNumber,callback:function(t){e.$set(e.entity,"phoneNumber",t)},expression:"entity.phoneNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticStyle:{"max-width":"20em"},attrs:{label:e.$t("affiliation.email"),rules:[e.required(),e.mail()],"prepend-icon":"email"},model:{value:e.entity.email,callback:function(t){e.$set(e.entity,"email",t)},expression:"entity.email"}})],1),a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Board")]),a("v-card-text",[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("BoardVue",{model:{value:e.entity.board,callback:function(t){e.$set(e.entity,"board",t)},expression:"entity.board"}})],1)],1)],1)],1)],1),a("v-card-actions",{staticStyle:{"flex-shrink":"0"}},[a("v-spacer"),e.isCreation()||e.isDirty()?a("v-btn",{attrs:{id:"btnAffiliationCancel",flat:"",color:"primary"},on:{click:e.cancel}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n            ")]):e._e(),e.canDelete()&&!e.isCreation()?a("v-btn",{attrs:{id:"btnAffiliationDelete",flat:"",color:"primary"},on:{click:function(t){e.deleteDialog=!0}}},[e._v("\n                "+e._s(e.$t("delete"))+"\n            ")]):e._e()],1)],1)],1)},s=[],r=a("9ab4"),n=a("60a3"),l=a("73ec"),o=a("68de"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:e.$t("affiliation.board.president"),rules:[e.required()],"prepend-icon":"person"},model:{value:e.board.president.name,callback:function(t){e.$set(e.board.president,"name",t)},expression:"board.president.name"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("SexVue",{model:{value:e.board.president.sex,callback:function(t){e.$set(e.board.president,"sex",t)},expression:"board.president.sex"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:e.$t("affiliation.board.secretary"),rules:[e.required()],"prepend-icon":"person"},model:{value:e.board.secretary.name,callback:function(t){e.$set(e.board.secretary,"name",t)},expression:"board.secretary.name"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("SexVue",{model:{value:e.board.secretary.sex,callback:function(t){e.$set(e.board.secretary,"sex",t)},expression:"board.secretary.sex"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:e.$t("affiliation.board.treasurer"),rules:[e.required()],"prepend-icon":"person"},model:{value:e.board.treasurer.name,callback:function(t){e.$set(e.board.treasurer,"name",t)},expression:"board.treasurer.name"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("SexVue",{model:{value:e.board.treasurer.sex,callback:function(t){e.$set(e.board.treasurer,"sex",t)},expression:"board.treasurer.sex"}})],1),e._v("\n\n        "+e._s(e.board.electedDate)+"\n        "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("DateEditor",{attrs:{rules:[e.required()],label:e.$t("affiliation.board.electedDate")},model:{value:e.board.electedDate,callback:function(t){e.$set(e.board,"electedDate",t)},expression:"board.electedDate"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"inputNumber",staticStyle:{"max-width":"20em"},attrs:{type:"number",label:e.$t("affiliation.board.membersNumber"),rules:[e.required()],"prepend-icon":"group"},model:{value:e.board.membersNumber,callback:function(t){e.$set(e.board,"membersNumber",t)},expression:"board.membersNumber"}})],1)],1)],1)},u=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-radio-group",{attrs:{mandatory:!0,row:""},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},[a("v-radio",{attrs:{label:e.$t("sex.male"),color:"primary",value:e.MALE}}),a("v-radio",{attrs:{label:e.$t("sex.female"),color:"primary",value:e.FEMALE}})],1)},f=[],h=a("867f");let p=class extends(Object(n["b"])(l["a"],o["a"])){constructor(){super(...arguments),this.MALE=h["h"].MALE,this.FEMALE=h["h"].FEMALE}get sex(){return this.value}set sex(e){this.$emit("input",e)}};r["a"]([Object(n["c"])()],p.prototype,"value",void 0),p=r["a"]([n["a"]],p);var m=p,b=m,v=a("2877"),g=a("6544"),y=a.n(g),x=a("67b6"),_=a("43a6"),T=Object(v["a"])(b,d,f,!1,null,null,null),I=T.exports;y()(T,{VRadio:x["a"],VRadioGroup:_["a"]});var k=a("a004");let w=class extends(Object(n["b"])(l["a"],o["a"])){get board(){return this.value}};r["a"]([Object(n["c"])()],w.prototype,"value",void 0),w=r["a"]([Object(n["a"])({components:{DateEditor:k["a"],SexVue:I}})],w);var E=w,C=E,O=a("0e8f"),P=a("a722"),V=a("2677"),$=Object(v["a"])(C,c,u,!1,null,null,null),A=$.exports;y()($,{VFlex:O["a"],VLayout:P["a"],VTextField:V["a"]});var S=a("65d9"),D=a.n(S),L=a("4bb5");let j=class extends(Object(n["b"])(l["a"])){constructor(){super(...arguments),this.valid=null,this.saving=!1,this.deleting=!1}mounted(){this.entityBackup=this.copy(this.entity)}reset(){this.copy(this.entityBackup,this.entity)}isDirty(){return!this.equals(this.entity,this.entityBackup)}};r["a"]([L["a"]],j.prototype,"userToken",void 0),r["a"]([Object(n["c"])()],j.prototype,"entity",void 0),j=r["a"]([D.a],j);var N=j,F=a("02f0"),M=a("48ab"),R=a("3183");function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){B(e,t,a[t])})}return e}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let U=class extends(Object(n["b"])(l["a"],o["a"],Object(S["mixins"])(N))){constructor(){super(...arguments),this.deleteDialog=!1,this.deleteButtons=[new M["a"]("no","refDeleteDialogNo",()=>Promise.resolve()),new M["a"]("yes","refDeleteDialogYes",this.onDeleteAffiliation)]}isCreation(){return!this.entity.id}cancel(){this.isCreation()?this.$emit("cancel",this.seasonId):this.reset()}onDeleteAffiliation(){const e=new h["b"](F["a"]).deleteAffiliation(this.userToken,this.clubId,this.seasonId);return e.then(()=>{this.$emit("cancel",this.seasonId)}),e}save(e){let t;this.saving=!0,t=this.entity.id?new h["b"](F["a"]).updateAffiliation(this.userToken,this.clubId,this.seasonId,q({},this.entity,{status:e})):new h["b"](F["a"]).createAffiliation(this.userToken,this.clubId,this.seasonId,q({},this.entity,{status:h["a"].SUBMITTED})),t.then(e=>{this.copy(e.data,this.entityBackup),this.copy(e.data,this.entity),this.saving=!1}).catch(()=>{this.saving=!1})}submit(){this.save(h["a"].SUBMITTED)}validate(){this.save(h["a"].VALIDATED)}reject(){this.save(h["a"].TOCOMPLETE)}canValidate(){return this.entity.status===h["a"].SUBMITTED&&this.features.includes(h["e"].AFFILIATIONVALIDATE)}canReject(){return this.entity.status===h["a"].SUBMITTED&&this.features.includes(h["e"].AFFILIATIONREJECT)}canDelete(){if(!this.features.includes(h["e"].AFFILIATIONDELETE))return!1;switch(this.entity.status){case h["a"].TOCOMPLETE:return this.features.includes(h["e"].AFFILIATIONCREATE);case h["a"].SUBMITTED:case h["a"].VALIDATED:return this.features.includes(h["e"].AFFILIATIONREJECT)||this.features.includes(h["e"].AFFILIATIONVALIDATE)}}canSubmit(){return this.entity.status===h["a"].TOCOMPLETE&&this.features.includes(h["e"].AFFILIATIONCREATE)}get currentStep(){switch(this.entity.status){case h["a"].TOCOMPLETE:return 1;case h["a"].SUBMITTED:return 2;case h["a"].VALIDATED:return 3}}set currentStep(e){}};r["a"]([L["a"]],U.prototype,"features",void 0),r["a"]([Object(n["c"])()],U.prototype,"clubId",void 0),r["a"]([Object(n["c"])()],U.prototype,"seasonId",void 0),U=r["a"]([Object(n["a"])({components:{BoardVue:A,Dialog:R["a"]}})],U);var Y=U,H=Y,z=a("8336"),K=a("b0af"),G=a("99d9"),J=a("12b2"),W=a("a523"),X=a("ce7e"),Z=a("4bd4"),Q=a("9910"),ee=a("7e85"),te=a("9c54"),ae=a("56a4"),ie=Object(v["a"])(H,i,s,!1,null,null,null);t["default"]=ie.exports;y()(ie,{VBtn:z["a"],VCard:K["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:J["a"],VContainer:W["a"],VDivider:X["a"],VFlex:O["a"],VForm:Z["a"],VLayout:P["a"],VSpacer:Q["a"],VStepper:ee["a"],VStepperHeader:te["a"],VStepperStep:ae["a"],VTextField:V["a"]})},ae09:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("crud",{attrs:{items:e.items,headers:e.headers,crudKey:"persons",rightPrefix:"PERSON",refreshing:e.refreshing},on:{deleteItem:e.deleteItem,createItem:e.createItem,updateItem:e.updateItem,refreshItems:e.refreshItems}})},s=[],r=a("9ab4"),n=a("65d9"),l=a.n(n),o=a("867f"),c=a("02f0"),u=a("60a3"),d=a("c14e"),f=a("3505"),h=a("68de"),p=a("b5a7");let m=class extends(Object(u["b"])(d["a"],f["a"],h["a"])){created(){this.headers=[{align:"left",sortable:!0,value:"name",prepend_icon:"fa-user",width:"30%",required:!0},{align:"left",sortable:!0,value:"firstName",prepend_icon:"fa-user",width:"30%",required:!0},{align:"left",sortable:!0,value:"email",prepend_icon:"fa-at",width:"30%",required:!0},{align:"left",sortable:!0,value:"birthDate",prepend_icon:"fa-birthday-cake",type:"date",width:"30%"},{align:"left",sortable:!0,value:"address",prepend_icon:"place",width:"30%"},{align:"left",sortable:!0,value:"postalCode",width:"30%"},{align:"left",sortable:!0,value:"city",width:"30%"},{align:"left",sortable:!0,value:"phoneNumber",prepend_icon:"smartphone",width:"30%"},{align:"left",sortable:!0,value:"nationality",prepend_icon:"fa-globe-europe",width:"30%"},{value:"edit",type:this.TYPE_ACTION},{value:"delete",type:this.TYPE_ACTION}]}getRefreshPromise(){return new o["g"](c["a"]).findPersons(this.userToken)}getDeletePromise(e){return new o["g"](c["a"]).deletePerson(this.userToken,e)}getCreatePromise(e){return new o["g"](c["a"]).createPerson(this.userToken,e)}getUpdatePromise(e){return new o["g"](c["a"]).updatePerson(this.userToken,e.id,e)}};m=r["a"]([l()({components:{Crud:p["a"]}})],m);var b=m,v=b,g=a("2877"),y=Object(g["a"])(v,i,s,!1,null,null,null);t["default"]=y.exports},b5a7:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"kb-datatable",staticStyle:{width:"100%"}},[a("v-toolbar",{staticClass:"kb-datatable-toolbar",attrs:{flat:""}},[a("v-toolbar-title",[e._v(e._s(e.$t(e.crudKey+".listTitle")))]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-btn",{staticClass:"mb-2",attrs:{id:"btnRefresh",loading:e.refreshing,color:"primary",dark:"",icon:""},on:{click:function(t){return e.refresh()}}},[a("v-icon",[e._v("refresh")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),e.canCreate()?a("v-btn",{staticClass:"mb-2",attrs:{id:"btnCrudCreate",color:"primary",dark:"",icon:""},on:{click:function(t){return e.create()}}},[a("v-icon",[e._v("add")])],1):e._e(),a("Dialog",{attrs:{title:e.$t("crud.confirmDelete"),buttons:e.deleteButtons},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}}),a("v-dialog",{attrs:{id:"refDialog","max-width":"700px",persistent:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.escape()}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.editedItem.id?e.$t(e.crudKey+".editDialogLabel"):e.$t(e.crudKey+".createDialogLabel")))])]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},e._l(e.propertyHeaders,function(t){return a("v-flex",{key:t.value,staticStyle:{padding:"0px"},attrs:{xs12:"",sm12:"",md12:""}},[t.type===e.TYPE_LIST?a("v-select",{attrs:{id:e.getId(t),value:e.resolveProperty(t.value,e.editedItem),items:t.list,"item-text":t.itemText.printer,"item-value":t.itemValue.printer,label:e.getFieldName(t)},on:{input:function(a){e.setProperty(t.value,e.editedItem,t.list.filter(function(e){return t.itemValue.print(e)===a})[0])}}}):e._e(),t.type===e.TYPE_LIST_MULTI?a("MultiEditor",{attrs:{id:e.getId(t),value:e.resolveProperty(t.value,e.editedItem),items:t.list,itemText:t.itemText,chipText:t.chipText,format:function(e){return e.name},label:e.getFieldName(t)},on:{input:function(a){return e.setProperty(t.value,e.editedItem,a)}}}):e._e(),t.type===e.TYPE_DATE?a("DateEditor",{attrs:{id:e.getId(t),label:e.getFieldName(t)},model:{value:e.editedItem[t.value],callback:function(a){e.$set(e.editedItem,t.value,a)},expression:"editedItem[header.value]"}}):e._e(),t.type?e._e():a("v-text-field",{attrs:{"prepend-icon":t.prepend_icon,id:e.getId(t),label:e.getFieldName(t),rules:e.getValidators(t)},model:{value:e.editedItem[t.value],callback:function(a){e.$set(e.editedItem,t.value,a)},expression:"editedItem[header.value]"}})],1)}),1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{id:"refDialogCancel",color:"blue darken-1",disabled:e.saving,flat:""},on:{click:e.close}},[e._v(e._s(e.$t("cancel")))]),a("v-btn",{attrs:{id:"refDialogSave",color:"blue darken-1",disabled:e.saving||!e.valid,loading:e.saving,flat:""},on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{pagination:e.pagination,headers:e.headersWithText,items:e.items,"hide-actions":""},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(a){return e.editItem(t.item)}}},[e._l(e.propertyHeaders,function(i){return a("td",{staticClass:"text-xs-left kb-datatable-row"},[i.type===e.TYPE_IMAGE&&e.resolveProperty(i.value,t.item)?[a("v-img",{attrs:{src:e.resolveProperty(i.value,t.item)}})]:e._e(),i.type!==e.TYPE_IMAGE&&e.resolveProperty(i.value,t.item)?[e._v("\n                        "+e._s(e.getColumnText(i,t.item))+"\n                    ")]:e._e()],2)}),e._l(e.actionHeaders,function(i){return a("td",{staticClass:"text-xs-left kb-datatable-row"},[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(s){var r=s.on;return[a("v-icon",e._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return a.stopPropagation(),e.action(i.value,t.item)}}},r),[e._v("\n                                "+e._s(i.icon||i.value)+"\n                            ")])]}}],null,!0)},[a("span",[e._v(e._s(e.translate(e.crudKey+".field."+i.value,"field."+i.value)))])])],1)})],2)]}}])},[a("template",{slot:"no-data"},[a("span",[e._v(e._s(e.$t(e.crudKey+".noneFound")))])])],2),a("div",{staticClass:"text-xs-center pt-2 kb-datatable-pagination"},[a("v-pagination",{attrs:{length:e.pages()},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],1)],1)},s=[],r=a("9ab4"),n=a("65d9"),l=a.n(n),o=a("60a3"),c=a("73ec"),u=a("3505"),d=a("68de"),f=a("a004"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-combobox",{attrs:{items:e.items,"item-value":e.itemValue,label:e.label,light:!1,"small-chips":"",clearable:"",multiple:""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("div",{staticClass:"v-list__tile__action"},[a("v-checkbox",{attrs:{color:"primary",value:t.tile.props.value}})],1),a("div",{staticClass:"v-list__tile__title"},[e._v(e._s(e.itemText.print(t.item))+"\n        ")])]}},{key:"selection",fn:function(t){return[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(i){var s=i.on;return[a("v-chip",e._g({attrs:{selected:t.selected,close:"",small:""},on:{input:function(a){return e.remove(t.item)}}},s),[e._v("\n                    "+e._s(e.chipText.print(t.item))+"\n                ")])]}}],null,!0)},[a("span",[e._v(e._s(e.itemText.print(t.item)))])])]}}]),model:{value:e.chips,callback:function(t){e.chips=t},expression:"chips"}})},p=[];let m=class extends(Object(o["b"])(c["a"],d["a"])){get chips(){return this.value}set chips(e){this.$emit("input",e)}remove(e){this.chips.splice(this.chips.indexOf(e),1),this.chips=[...this.chips]}};r["a"]([Object(o["c"])()],m.prototype,"value",void 0),r["a"]([Object(o["c"])()],m.prototype,"items",void 0),r["a"]([Object(o["c"])({default:"name"})],m.prototype,"itemText",void 0),r["a"]([Object(o["c"])({default:"name"})],m.prototype,"chipText",void 0),r["a"]([Object(o["c"])({default:"id"})],m.prototype,"itemValue",void 0),r["a"]([Object(o["c"])()],m.prototype,"format",void 0),r["a"]([Object(o["c"])()],m.prototype,"label",void 0),m=r["a"]([o["a"]],m);var b=m,v=b,g=a("2877"),y=a("6544"),x=a.n(y),_=a("ac7c"),T=a("cc20"),I=a("2b5d"),k=a("3a2f"),w=Object(g["a"])(v,h,p,!1,null,null,null),E=w.exports;x()(w,{VCheckbox:_["a"],VChip:T["a"],VCombobox:I["a"],VTooltip:k["a"]});var C=a("4bb5"),O=a("48ab"),P=a("3183");function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){$(e,t,a[t])})}return e}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let A=class extends(Object(o["b"])(c["a"],u["a"],d["a"])){constructor(){super(...arguments),this.dialog=!1,this.editedItem={},this.deletingItem={},this.deleteDialog=!1,this.saving=!1,this.valid=!0,this.deleteButtons=[new O["a"]("no","refDeleteDialogNo",()=>Promise.resolve()),new O["a"]("yes","refDeleteDialogYes",this.onDeleteItem)],this.pagination={rowsPerPage:1}}get propertyHeaders(){return this.headers.filter(e=>e.type!==this.TYPE_ACTION)}get actionHeaders(){return this.visibleHeaders.filter(e=>e.type===this.TYPE_ACTION)}get visibleHeaders(){return this.headers.filter(e=>this.features.includes(this.rightPrefix+"_DELETE")||"delete"!==e.value).filter(e=>this.features.includes(this.rightPrefix+"_UPDATE")||"edit"!==e.value)}get headersWithText(){const e=this.visibleHeaders.map(e=>V({},e,{text:this.getHeaderName(e)}));return e}getColumnText(e,t){return e.type===this.TYPE_DATE?this.resolveProperty(e.value,t):e.type===this.TYPE_LIST?this.getItemText(e,this.resolveProperty(e.value,t)):e.type===this.TYPE_LIST_MULTI?this.resolveProperty(e.value,t).map(t=>this.getItemText(e,t)).join(", "):this.resolveProperty(e.value,t)}getItemText(e,t){return e.chipText?e.chipText.print(t):e.itemText.print(t)}getHeaderName(e){return e.type===this.TYPE_ACTION?"":this.$t(this.crudKey+".field."+e.value)}getFieldName(e){let t=this.$t(this.crudKey+".field."+e.value);return e.required&&(t+="*"),t}getValidators(e){const t=e.validators?[...e.validators]:[];return e.required&&t.push(this.required()),t}height(e){const t=this.$el.querySelector(e);return t?t.clientHeight:0}mounted(){window.addEventListener("resize",this.handleResize)}beforeDestroy(){window.removeEventListener("resize",this.handleResize)}handleResize(){this.updateSize()}updated(){this.updateSize()}updateSize(){const e=this.$el.parentElement.clientHeight,t=this.height(".kb-datatable-toolbar"),a=this.height(".kb-datatable-pagination"),i=this.height("th"),s=this.height(".kb-datatable-row")+1,r=(e-t-a-i)/s-1;isFinite(r)?this.pagination.rowsPerPage=Math.ceil(r):this.pagination.rowsPerPage=Math.ceil(1);const n=this.$el.children[1];n.style.height=i+this.pagination.rowsPerPage*s+"px"}action(e,t){switch(e){case"edit":this.editItem(t);break;case"delete":this.deletingItem=t,this.deleteDialog=!0;break;default:this.$emit(e,t);break}}watchRoute(e){e&&this.$refs.form.resetValidation()}editItem(e){this.editedItem=Object.assign({},e),this.dialog=!0}onDeleteItem(){return new Promise((e,t)=>{this.$emit("deleteItem",this.deletingItem.id,a=>{a?e():t()})})}close(){this.dialog=!1}save(){this.saving=!0;const e=e=>{this.saving=!1,e&&this.close()};this.editedItem.id?this.$emit("updateItem",this.editedItem,e):this.$emit("createItem",this.editedItem,e)}escape(){this.saving||(this.editedItem={},this.dialog=!1)}defaultItem(){const e={};return this.headers.filter(e=>e.type!==this.TYPE_ACTION).forEach(t=>{this.setProperty(t.value,e,null)}),e}create(){this.editedItem=this.copy(this.defaultItem()),this.dialog=!0}refresh(){this.$emit("refreshItems")}pages(){return null==this.pagination.rowsPerPage||null==this.items.length?0:Math.ceil(this.items.length/this.pagination.rowsPerPage)}getId(e){return"crud_"+e.value}canCreate(){return this.features.includes(this.rightPrefix+"_CREATE")}};r["a"]([Object(o["c"])()],A.prototype,"items",void 0),r["a"]([Object(o["c"])()],A.prototype,"headers",void 0),r["a"]([Object(o["c"])()],A.prototype,"refreshing",void 0),r["a"]([Object(o["c"])()],A.prototype,"crudKey",void 0),r["a"]([Object(o["c"])()],A.prototype,"rightPrefix",void 0),r["a"]([C["a"]],A.prototype,"features",void 0),r["a"]([Object(o["e"])("dialog",{immediate:!0,deep:!0})],A.prototype,"watchRoute",null),A=r["a"]([l()({components:{DateEditor:f["a"],MultiEditor:E,Dialog:P["a"]}})],A);var S=A,D=S,L=a("8336"),j=a("b0af"),N=a("99d9"),F=a("12b2"),M=a("a523"),R=a("8fea"),q=a("169a"),B=a("ce7e"),U=a("0e8f"),Y=a("4bd4"),H=a("132d"),z=a("adda"),K=a("a722"),G=a("891e"),J=a("b56d"),W=a("9910"),X=a("2677"),Z=a("71d9"),Q=a("2a7f"),ee=Object(g["a"])(D,i,s,!1,null,null,null);t["a"]=ee.exports;x()(ee,{VBtn:L["a"],VCard:j["a"],VCardActions:N["a"],VCardText:N["b"],VCardTitle:F["a"],VContainer:M["a"],VDataTable:R["a"],VDialog:q["a"],VDivider:B["a"],VFlex:U["a"],VForm:Y["a"],VIcon:H["a"],VImg:z["a"],VLayout:K["a"],VPagination:G["a"],VSelect:J["a"],VSpacer:W["a"],VTextField:X["a"],VToolbar:Z["a"],VToolbarTitle:Q["a"],VTooltip:k["a"]})},b850:function(e,t,a){"use strict";var i=a("2b0e"),s=a("2f62"),r=a("867f"),n=a("0e44"),l=a("02f0");i["default"].use(s["a"]);const o={userToken:e=>e.userInfo.token,clubs:e=>e.userInfo.clubs||[],features:e=>e.userInfo.functionalities||[],seasons:e=>new Map(e.seasons.map(e=>[e.id,e])),currentSeason:e=>e.currentSeason},c=new s["a"].Store({state:{userInfo:null,seasons:[],currentSeason:null},getters:o,mutations:{SET_LOGIN_INFO:(e,t)=>{e.userInfo=t},SET_SEASON_INFO:(e,t)=>{e.seasons=t,e.currentSeason=t.sort((e,t)=>t.id.localeCompare(e.id))[0]},UPDATE_CLUB:(e,t)=>{e.userInfo.clubs[t.index]=t.club}},actions:{UpdateClub({commit:e},t){return new Promise((a,i)=>{const s=c.state.userInfo.clubs.findIndex(e=>e.id===t.id);-1===s?i():(e("UPDATE_CLUB",{index:s,club:t}),a())})},Login({commit:e},t){return new Promise((a,i)=>{new r["f"](l["a"]).userLogin(t,{}).then(i=>{const s={token:i.data.access_token,login:t.login,clubs:[],functionalities:[]},n=[],o=i.data.user.profile.clubIds;s.functionalities=i.data.user.profile.type.functionalities,o.forEach(e=>{const t=new r["c"](l["a"]).getClubById(i.data.access_token,e);n.push(t),t.then(e=>{s.clubs.push(e.data)})});const c=new r["d"](l["a"]).findSeasons(i.data.access_token);n.push(c);const u=[];c.then(e=>{e.data.forEach(e=>u.push(e))}),Promise.all(n).then(()=>{e("SET_LOGIN_INFO",s),e("SET_SEASON_INFO",u),a()})}).catch(e=>{i(e)})})},Logout({commit:e}){const t=c.state.userInfo;if(null!==t)return new Promise((a,i)=>{new r["f"](l["a"]).userLogout(t.token,{}).then(()=>{e("SET_LOGIN_INFO",{}),a()}).catch(e=>{i(e)})})}},plugins:[Object(n["a"])()]});t["a"]=c},bb51:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v("Welcome to sikb-front")])},s=[],r=a("9ab4"),n=a("60a3"),l=a("73ec"),o=a("68de");let c=class extends(Object(n["b"])(l["a"],o["a"])){};c=r["a"]([n["a"]],c);var u=c,d=u,f=a("2877"),h=Object(f["a"])(d,i,s,!1,null,null,null);t["default"]=h.exports},c14e:function(e,t,a){"use strict";var i=a("9ab4"),s=a("60a3"),r=a("4bb5");let n=class extends s["d"]{constructor(){super(...arguments),this.headers=[],this.items=[],this.refreshing=!1}created(){this.refreshItems()}getDeletePromise(e){return Promise.reject()}getCreatePromise(e){return Promise.reject()}getUpdatePromise(e){return Promise.reject()}getRefreshPromise(){return Promise.reject()}refreshItems(){this.refreshing=!0;const e=this.getRefreshPromise();return e.then(e=>{this.items=e.data,this.refreshing=!1}).catch(()=>{this.refreshing=!1}),e}deleteItem(e,t){this.getDeletePromise(e).then(()=>{this.items=this.items.filter(t=>t.id!==e),t(!0)}).catch(()=>{t(!1)})}updateItem(e,t){this.getUpdatePromise(e).then(()=>{const a=this.items.findIndex(t=>t.id===e.id);Object.assign(this.items[a],e),t(!0)}).catch(()=>{t(!1)})}createItem(e,t){this.getCreatePromise(e).then(e=>{this.items.push(e.data),t(!0)}).catch(()=>{t(!1)})}};i["a"]([r["a"]],n.prototype,"userToken",void 0),n=i["a"]([s["a"]],n),t["a"]=n},ca07:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"kb-datatable",staticStyle:{width:"100%","overflow-y":"scroll"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.clubBackup.name+(e.modified?" *":"")))])]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","align-baseline":"true"}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{id:"clubName",label:e.$t("clubs.field.name"),rules:[e.required()]},model:{value:e.club.name,callback:function(t){e.$set(e.club,"name",t)},expression:"club.name"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{id:"clubShortName",label:e.$t("clubs.field.shortName"),rules:[e.required()]},model:{value:e.club.shortName,callback:function(t){e.$set(e.club,"shortName",t)},expression:"club.shortName"}})],1),a("v-flex",{attrs:{xs12:""}},[a("uploader",{staticStyle:{float:"right"},attrs:{id:"uploader",accept:"image/*"},on:{input:e.onFileChange}}),a("div",{staticStyle:{overflow:"hidden","padding-right":"0.5em"}},[e.club.logo?a("v-text-field",{attrs:{label:e.$t("clubs.field.logo.location"),readonly:"",disabled:""},model:{value:e.club.logo.location,callback:function(t){e.$set(e.club.logo,"location",t)},expression:"club.logo.location"}}):e._e()],1),e._v("​\n\n\n\n                    ")],1),a("v-flex",{attrs:{xs12:""}},[a("v-img",{attrs:{contain:"",src:e.getLogoLocation(),"max-height":"25vh"}})],1)],1)],1),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{attrs:{id:"btnCancel",disabled:!e.modified||e.saving,flat:"",color:"blue darken-1"},on:{click:e.reset}},[e._v("\n                    "+e._s(e.$t("cancel"))+"\n                ")]),a("v-btn",{attrs:{id:"btnValidate",loading:e.saving,disabled:!e.valid||!e.modified||e.saving,flat:"",color:"blue darken-1"},on:{click:e.validate}},[e._v("\n                    "+e._s(e.$t("validate"))+"\n                ")])],1)],1)],1)],1)},s=[],r=a("9ab4"),n=a("867f"),l=a("4bb5"),o=a("60a3"),c=a("02f0"),u=a("73ec"),d=a("68de"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",icon:""},on:{click:function(t){e.fileInput().click()}}},[e._v("...")]),a("input",{ref:"fileInput",attrs:{type:"file",accept:e.accept},on:{change:e.onFileChange}})],1)},h=[],p=a("2b0e"),m=a("65d9"),b=a.n(m);let v=class extends p["default"]{fileInput(){return this.$refs.fileInput}onFileChange(){const e=this.fileInput().files;e&&this.$emit("input",e[0])}};r["a"]([Object(o["c"])()],v.prototype,"accept",void 0),v=r["a"]([b.a],v);var g=v,y=g,x=(a("fa73"),a("2877")),_=a("6544"),T=a.n(_),I=a("8336"),k=Object(x["a"])(y,f,h,!1,null,"2aff2ad6",null),w=k.exports;T()(k,{VBtn:I["a"]});let E=class extends(Object(o["b"])(u["a"],d["a"])){constructor(){super(...arguments),this.club=null,this.valid=!1,this.saving=!1}created(){const e=this;this.clubs.forEach(t=>{t.id===+this.$route.params.clubId&&(this.clubBackup=t,e.club=this.copy(t))})}reset(){this.copy(this.clubBackup,this.club)}validate(){if(null!==this.club&&void 0!==this.club){this.saving=!0;const e=[],t=new n["c"](c["a"]);if(!this.equals(this.club.logo,this.clubBackup.logo)){const a=t.uploadLogo(this.userToken,this.club.id,this.file);e.push(a),a.then(e=>this.club.logo={location:e.data.location})}this.equals(this.omit(this.club,"logo"),this.omit(this.clubBackup,"logo"))||e.push(t.updateClub(this.userToken,this.clubBackup.id,this.club)),Promise.all(e).then(()=>{this.$store.dispatch("UpdateClub",this.club).then(()=>{this.copy(this.club,this.clubBackup),this.saving=!1})}).catch(()=>{this.saving=!1})}}get modified(){return!this.equals(this.club,this.clubBackup)}onFileChange(e){this.file=e,this.club.logo={location:e.name}}getLogoLocation(){return this.file?URL.createObjectURL(this.file):this.club.logo&&this.club.logo.location&&this.club.logo.location.startsWith("http")?this.club.logo.location:""}};r["a"]([l["a"]],E.prototype,"clubs",void 0),r["a"]([l["a"]],E.prototype,"userToken",void 0),E=r["a"]([Object(o["a"])({components:{Uploader:w}})],E);var C=E,O=C,P=a("b0af"),V=a("99d9"),$=a("12b2"),A=a("0e8f"),S=a("4bd4"),D=a("adda"),L=a("a722"),j=a("2677"),N=Object(x["a"])(O,i,s,!1,null,null,null);t["default"]=N.exports;T()(N,{VBtn:I["a"],VCard:P["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:$["a"],VFlex:A["a"],VForm:S["a"],VImg:D["a"],VLayout:L["a"],VTextField:j["a"]})},cd49:function(e,t,a){"use strict";a.r(t);var i=a("65d9"),s=a.n(i);s.a.registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var r=a("2b0e"),n=a("bb71");a("da64");r["default"].use(n["a"],{iconfont:"md"});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view"),a("v-snackbar",{attrs:{top:!0,right:!0,color:"error","multi-line":!1,timeout:6e3,vertical:!1},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.snackbarText)+"\n    "),a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n      Close\n    ")])],1)],1)},o=[],c=a("9ab4"),u=a("60a3"),d=a("bc3a"),f=a.n(d),h=a("5f86");let p=class extends u["d"]{constructor(){super(...arguments),this.snackbar=!1,this.snackbarText="",this.count=0,this.requestInterceptor=0,this.responseInterceptor=0}beforeDestroy(){f.a.interceptors.request.eject(this.requestInterceptor),f.a.interceptors.response.eject(this.responseInterceptor)}mounted(){const e=this;this.requestInterceptor=f.a.interceptors.request.use(e=>{return Object(h["d"])(),e}),this.responseInterceptor=f.a.interceptors.response.use(e=>{return Object(h["b"])(),e},t=>{return Object(h["b"])(),e.snackbarText=e.$t("http.error."+t.config.method).toString(),e.snackbar=!1,setTimeout(()=>e.snackbar=!0),Promise.reject(t)})}};p=c["a"]([u["a"]],p);var m=p,b=m,v=(a("034f"),a("2877")),g=a("6544"),y=a.n(g),x=a("7496"),_=a("8336"),T=a("2db4"),I=Object(v["a"])(b,l,o,!1,null,null,null),k=I.exports;y()(I,{VApp:x["a"],VBtn:_["a"],VSnackbar:T["a"]});var w=a("b850"),E=a("a925"),C=a("5732");function O(){const e=Object(C["loadMessagesFiles"])(),t={};return e.keys().forEach(a=>{const i=a.match(/([A-Za-z0-9-_]+)\./i);if(i&&i.length>1){const s=i[1];t[s]=e(a)}}),t}r["default"].use(E["a"]);var P=new E["a"]({locale:"fr",fallbackLocale:"en",messages:O()});a("a5d8");const V=a("19ab").default;r["default"].component("split-pane",V),r["default"].config.productionTip=!1,r["default"].use(n["a"],{iconfont:"md"}),new r["default"]({router:h["c"],store:w["a"],i18n:P,render:e=>e(k)}).$mount("#app")},d9ce:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("navigation"),a("main-view")],1)},s=[],r=a("9ab4"),n=a("2b0e"),l=a("65d9"),o=a.n(l),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-navigation-drawer",{ref:"navDrawer",attrs:{fixed:"",app:"",clipped:!0,width:"350"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.isMobile()?a("v-list-tile",{key:"Close",on:{click:function(t){e.drawer=!e.drawer}}},[a("v-list-tile-content",{style:{"align-items":"flex-end"}},[a("v-icon",[e._v("close")])],1)],1):e._e(),a("v-list",{staticClass:"pt-0"},[e._l(e.items,function(t){return[t.children?[a("v-list-group",{key:t.name,attrs:{value:e.active===t.path,"prepend-icon":t.meta.icon},on:{input:function(a){return e.group(t,a)}},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.getMenuName(t)))])],1)],1)]},proxy:!0}],null,!0)},e._l(e.getChildren(t),function(i){return a("v-list-tile",{key:i.name,attrs:{to:t.path+"/"+i.path}},[a("v-list-tile-action",[a("v-icon",[e._v(e._s(i.icon))])],1),a("v-list-tile-title",[e._v(e._s(e.getMenuName(i)))])],1)}),1)]:[a("v-list-tile",{key:t.name,attrs:{to:t.path},on:{click:function(e){}}},[a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.meta.icon))])],1),a("v-list-tile-title",[e._v(e._s(e.getMenuName(t)))])],1)]]}),a("v-list-tile",{key:"Logout",on:{click:function(t){return e.logout()}}},[a("v-list-tile-action",[a("v-icon",[e._v("close")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.$t("route.logout")))])],1)],1)],2)],1),a("v-toolbar",{attrs:{fixed:"",app:"","clipped-left":!0}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("span")])],1)],1)},u=[],d=a("5f86"),f=a("4bb5"),h=a("60a3");let p=class extends n["default"]{constructor(){super(...arguments),this.drawer=null,this.active=""}getMenuName(e){return e.meta.fullname||this.$t("route."+e.name)}isMobile(){return this.$refs.navDrawer&&this.$refs.navDrawer.isMobile}canAccess(e){return(!e.meta||!e.meta.features||0!==e.meta.features.filter(e=>this.features.includes(e)).length)&&!(e.children&&e.children.length>0&&0===this.getChildren(e).length)}getChildren(e){return e.children?e.children.filter(e=>this.canAccess(e)):[]}group(e,t){this.active=t?e.name:""}get items(){const e=d["e"].filter(e=>e.name!==d["a"]&&this.canAccess(e)),t=d["e"].filter(e=>e.name===d["a"])[0];return this.clubs.forEach(a=>{e.push({path:"/club/"+a.id,name:d["a"]+a.id,meta:{fullname:a.name,icon:"fa-pizza-slice"},children:t.children})}),e}watchRoute(e,t){if(e.matched.length>2){const t=e.matched[1],a=d["e"].filter(e=>e.name===t.name)[0];this.active=a.path,Object.keys(e.params).forEach(t=>this.active=this.active.replace(":"+t,e.params[t]))}}logout(){this.$store.dispatch("Logout").then(()=>{this.$router.push({path:"/login"})})}};r["a"]([f["a"]],p.prototype,"features",void 0),r["a"]([f["a"]],p.prototype,"clubs",void 0),r["a"]([Object(h["e"])("$route",{immediate:!0,deep:!0})],p.prototype,"watchRoute",null),p=r["a"]([o.a],p);var m=p,b=m,v=a("2877"),g=a("6544"),y=a.n(g),x=a("132d"),_=a("8860"),T=a("56b0"),I=a("ba95"),k=a("40fe"),w=a("5d23"),E=a("f774"),C=a("71d9"),O=a("706c"),P=a("2a7f"),V=Object(v["a"])(b,c,u,!1,null,null,null),$=V.exports;y()(V,{VIcon:x["a"],VList:_["a"],VListGroup:T["a"],VListTile:I["a"],VListTileAction:k["a"],VListTileContent:w["a"],VListTileTitle:w["c"],VNavigationDrawer:E["a"],VToolbar:C["a"],VToolbarSideIcon:O["a"],VToolbarTitle:P["a"]});var A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",{ref:"content"},[a("v-container",{ref:"container",attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"fill-height":"","justify-center":""}},[a("v-fade-transition",{attrs:{"fill-height":"",mode:"out-in"}},[a("router-view",{attrs:{"fill-height":""}})],1)],1)],1)],1)},S=[];let D=class extends n["default"]{mounted(){const e=this.$refs.container;e.style.height="calc(100vh - "+e.parentElement.offsetTop+"px)"}};D=r["a"]([o.a],D);var L=D,j=L,N=a("a523"),F=a("549c"),M=a("0789"),R=a("a722"),q=Object(v["a"])(j,A,S,!1,null,null,null),B=q.exports;y()(q,{VContainer:N["a"],VContent:F["a"],VFadeTransition:M["b"],VLayout:R["a"]});let U=class extends n["default"]{};U=r["a"]([o()({components:{Navigation:$,MainView:B}})],U);var Y=U,H=Y,z=a("7496"),K=Object(v["a"])(H,i,s,!1,null,null,null);t["default"]=K.exports;y()(K,{VApp:z["a"]})},eb31:function(e,t,a){"use strict";var i=a("21ea"),s=a.n(i);s.a},edd4:function(e){e.exports={message:"hello i18n !!"}},f03f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("crud",{attrs:{items:e.items,headers:e.headers,crudKey:"clubs",rightPrefix:"CLUB",refreshing:e.refreshing},on:{deleteItem:e.deleteItem,createItem:e.createItem,updateItem:e.updateItem,refreshItems:e.refreshItems,affiliations:e.affiliations}})},s=[],r=a("9ab4"),n=a("65d9"),l=a.n(n),o=a("867f"),c=a("02f0"),u=a("c14e"),d=a("60a3"),f=a("3505"),h=a("68de"),p=a("b5a7");let m=class extends(Object(d["b"])(u["a"],f["a"],h["a"])){created(){this.headers=[{align:"left",sortable:!0,value:"logo.location",width:"40px",type:this.TYPE_IMAGE},{align:"left",sortable:!0,value:"name",width:"75%",required:!0,validators:[this.maxLength(255)]},{value:"shortName",width:"15%",required:!0,validators:[this.maxLength(255)]},{value:"affiliations",icon:"fa-file-signature",type:this.TYPE_ACTION},{value:"edit",type:this.TYPE_ACTION},{value:"delete",type:this.TYPE_ACTION}]}getCreatePromise(e){return new o["c"](c["a"]).createClub(this.userToken,e)}getDeletePromise(e){return new o["c"](c["a"]).deleteClub(this.userToken,e)}getRefreshPromise(){return new o["c"](c["a"]).findClubs(this.userToken)}getUpdatePromise(e){return new o["c"](c["a"]).updateClub(this.userToken,e.id,e)}affiliations(e){this.$router.push({path:"/club/"+e.id+"/affiliations"})}};m=r["a"]([l()({components:{Crud:p["a"]}})],m);var b=m,v=b,g=a("2877"),y=Object(g["a"])(v,i,s,!1,null,null,null);t["default"]=y.exports},f0ef:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%",width:"100%"}},[a("v-card",{staticStyle:{height:"100%"}},[a("v-card-title",{ref:"title"},[a("span",{staticClass:"headline"},[e._v(e._s(e.club?e.club.name:"")+" - "+e._s(e.$t("route.affiliations")))])]),a("div",{ref:"btnAffiliate",attrs:{height:"100%"}},[a("v-layout",{attrs:{layout:"","align-center":"","justify-center":"",column:"","fill-height":""}},[0===e.affiliations.length?a("span",{staticClass:"subheading"},[e._v(e._s(e.$t("affiliation.noAffiliation")))]):e._e(),e.noAffiliationForCurrentSeason()?a("span",{staticClass:"subheading"},[e._v(e._s(e.$t("affiliation.noAffiliationCurrentSeason",[e.currentSeason.description])))]):e._e(),a("v-layout",{attrs:{layout:"","align-center":"","justify-center":"",row:"","fill-height":""}},[0===e.affiliations.length?a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.affiliateForSeasonAndSetRouteFromExisting(e.currentSeason)}}},[e._v("\n                        "+e._s(e.$t("affiliation.affiliate",[e.currentSeason.description]))+"\n                    ")]):e._e(),e.affiliations.length>0&&e.noAffiliationForCurrentSeason()?a("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{color:"primary"}},i),[e._v("\n                                "+e._s(e.$t("affiliation.affiliate",[e.currentSeason.description]))+"\n                            ")])]}}],null,!1,1125137275)},[a("v-list",e._l(e.reaffiliateItems,function(t,i){return a("v-list-tile",{key:i,on:{click:function(a){return e.affiliateForSeasonAndSetRouteFromExisting(e.currentSeason,t)}}},[a("v-list-tile-title",[e._v(e._s(e.getReaffiliateDescription(t)))])],1)}),1)],1):e._e(),e.availableSeasons.length>0?a("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{color:"primary"}},i),[e._v("\n                                "+e._s(e.$t("affiliation.affiliateOneYear"))+"\n                            ")])]}}],null,!1,2063483902)},[a("v-list",e._l(e.availableSeasons,function(t,i){return a("v-list-tile",{key:i,on:{click:function(a){return e.affiliateForSeasonAndSetRouteFromExisting(t)}}},[a("v-list-tile-title",[e._v(e._s(t.description))])],1)}),1)],1):e._e()],1)],1)],1),0!==e.affiliations.length?a("v-tabs",{ref:"tabs",attrs:{color:"white","slider-color":"primary"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[e._l(e.sortedAffiliations,function(t){return a("v-tab",{key:""+t.season.id,ref:"tab",refInFor:!0,staticStyle:{height:"100%"},attrs:{to:""+t.season.id,ripple:""}},[e._v("\n                "+e._s(t.season.description)+"\n            ")])}),e._l(e.sortedAffiliations,function(t){return a("v-tab-item",{key:""+t.season.id,ref:"tabItem",refInFor:!0,attrs:{value:""+t.season.id,transition:"false","reverse-transition":"false"}},[a("v-card",{staticStyle:{height:"100%"},attrs:{flat:""}},[a("router-view",{key:e.clubId,staticStyle:{height:"100%"},attrs:{entity:t.affiliation,clubId:e.clubId,seasonId:e.seasonId},on:{cancel:e.cancelAffiliation}})],1)],1)})],2):e._e()],1)],1)},s=[],r=a("9ab4"),n=a("867f"),l=a("60a3"),o=a("73ec"),c=a("68de"),u=a("ad97"),d=a("4bb5"),f=a("02f0"),h=a("b850");let p=class extends(Object(l["b"])(o["a"],c["a"])){constructor(){super(...arguments),this.club=null,this.active=null,this.affiliations=[]}beforeRouteEnter(e,t,a){const i=+e.params.clubId;new n["b"](f["a"]).findAllClubAffiliations(h["a"].getters.userToken,i).then(t=>{a(a=>{a.setAffiliations(t.data,e),new n["c"](f["a"]).getClubById(a.$store.getters.userToken,i).then(e=>{a.club=e.data})})})}get sortedAffiliations(){return this.affiliations.sort((e,t)=>t.season.begin.localeCompare(e.season.begin))}get availableSeasons(){const e=new Map(this.seasons);return this.affiliations.forEach(t=>e.delete(t.season.id)),e.delete(this.currentSeason.id),Array.from(e.values()).sort((e,t)=>e.description.localeCompare(t.description))}get reaffiliateItems(){return[null,...this.affiliations]}getReaffiliateDescription(e){return e?this.$t("affiliation.reaffiliateFromExisting",[e.season.description]):this.$t("affiliation.reaffiliateEmpty")}setAffiliations(e,t){if(this.affiliations=[],e.forEach(e=>this.affiliations.push(e)),t.params.seasonId&&0===this.affiliations.filter(e=>e.season.id===t.params.seasonId).length){const e=h["a"].getters.seasons.get(t.params.seasonId);e&&this.affiliateForSeasonAndSetRouteFromExisting(e)}else e.length>0&&(t.params.seasonId&&(this.active=t.params.seasonId),this.$router.replace({name:"affiliation",params:{seasonId:t.params.seasonId||this.affiliations[0].season.id}}));this.resize()}updated(){this.resize()}async resize(){if(await this.$nextTick(),await this.$nextTick(),this.$refs.tabs){const e=this.getComponentRefElement(this.$refs.tabs),t=this.getComponentRefElement(this.$refs.tabItem),a=this.getComponentRefElement(this.$refs.tab),i=this.$refs.btnAffiliate,s=this.$refs.title;let r=s.clientHeight;i&&(r+=i.clientHeight),e.style.height=this.calcHeight(r),t.parentElement.style.height="100%",t.parentElement.parentElement.style.height=this.calcHeight(a.clientHeight)}}calcHeight(e){return"calc(100% - "+e+"px)"}getComponentRefElement(e){let t;return t=Array.isArray(e)?e[0]:e,t.$el}beforeRouteUpdate(e,t,a){if(+e.params.clubId!==this.clubId){const t=+e.params.clubId;new n["b"](f["a"]).findAllClubAffiliations(h["a"].getters.userToken,t).then(t=>{a(),this.setAffiliations(t.data,e)})}else if(e.params.seasonId){if(0===this.affiliations.filter(t=>t.season.id===e.params.seasonId).length){const t=h["a"].getters.seasons.get(e.params.seasonId);t&&this.affiliateForSeasonAndSetRouteFromExisting(t)}a()}else this.affiliations.length>0?(this.affiliations=this.affiliations.filter(e=>e.affiliation.hasOwnProperty("id")),a(),this.$router.replace({name:"affiliation",params:{seasonId:this.firstAffiliation.season.id}})):(this.active=null,a())}affiliateForSeasonAndSetRouteFromExisting(e,t=null){const a={address:"",board:{electedDate:"",membersNumber:0,president:{name:"",sex:n["h"].MALE},secretary:{name:"",sex:n["h"].MALE},treasurer:{name:"",sex:n["h"].MALE}},city:"",email:"",phoneNumber:"",postalCode:"",prefectureCity:"",prefectureNumber:"",siretNumber:"",webSite:"",id:0,status:n["a"].TOCOMPLETE},i={season:e,affiliation:this.copy(t?t.affiliation:a)};i.affiliation.id=0,i.affiliation.board.electedDate="",i.affiliation.status=n["a"].TOCOMPLETE,this.active=""+i.season.id,this.affiliations.push(i),this.resize(),this.$router.push({name:"affiliation",params:{seasonId:e.id}})}cancelAffiliation(e){this.affiliations=this.affiliations.filter(t=>t.season.id!==e),this.$router.replace({name:"affiliations"}),this.resize()}noAffiliationForCurrentSeason(){return this.affiliations.length>0&&0===this.affiliations.filter(e=>e.season.id===this.currentSeason.id).length}get clubId(){return+this.$route.params.clubId}get seasonId(){return this.$route.params.seasonId}get firstAffiliation(){return this.affiliations.sort((e,t)=>t.season.id.localeCompare(e.season.id))[0]}};r["a"]([d["a"]],p.prototype,"userToken",void 0),r["a"]([d["a"]],p.prototype,"currentSeason",void 0),r["a"]([d["a"]],p.prototype,"seasons",void 0),p=r["a"]([Object(l["a"])({components:{AffiliationVue:u["default"]}})],p);var m=p,b=m,v=(a("eb31"),a("2877")),g=a("6544"),y=a.n(g),x=a("8336"),_=a("b0af"),T=a("12b2"),I=a("a722"),k=a("8860"),w=a("ba95"),E=a("5d23"),C=a("e449"),O=a("71a3"),P=a("c671"),V=a("fe57"),$=Object(v["a"])(b,i,s,!1,null,null,null);t["default"]=$.exports;y()($,{VBtn:x["a"],VCard:_["a"],VCardTitle:T["a"],VLayout:I["a"],VList:k["a"],VListTile:w["a"],VListTileTitle:E["c"],VMenu:C["a"],VTab:O["a"],VTabItem:P["a"],VTabs:V["a"]})},f693:function(e){e.exports={cancel:"Annuler",save:"Sauvegarder",yes:"Oui",no:"Non",validate:"Valider",submit:"Soumettre",reject:"Rejeter",delete:"Supprimer","login.login":"Login","login.password":"Mot de passe","login.validate":"Connexion","validator.login.required":"Le login est requis","validator.password.required":"Le mot de passe est requis","validator.mail":"Adresse mail non valide","validator.phoneNumber":"Numéro de téléphone non valide","validator.field.required":"Ce champ est requis","validator.maxLength":"Ce champ ne peut pas faire plus de {0} caractères","route.home":"Accueil","route.persons":"Personnes","route.users":"Utilisateurs","route.seasons":"Saisons","route.clubs":"Clubs","route.logout":"Déconnexion","route.admin":"Administration","route.general":"Informations générales","route.affiliations":"Affiliations","route.affiliationsValidation":"Affiliations à valider","route.tasks":"Tâches","crud.confirmDelete":"Confirmez-vous la suppression?","clubs.editDialogLabel":"Modification d'un club","clubs.createDialogLabel":"Création d'un club","clubs.listTitle":"Liste des clubs","clubs.noneFound":"Aucun club trouvé","clubs.field.name":"Nom","clubs.field.shortName":"Nom court","clubs.field.affiliations":"Affiliations","clubs.field.logo.location":"Logo","seasons.editDialogLabel":"Modification d'une saison","seasons.createDialogLabel":"Création d'une saison","seasons.listTitle":"Liste des saisons","seasons.noneFound":"Aucune saison trouvée","seasons.field.description":"Description","seasons.field.begin":"Début","seasons.field.end":"Fin","persons.editDialogLabel":"Modification d'une personne","persons.createDialogLabel":"Création d'une personne","persons.listTitle":"Liste des personnes","persons.noneFound":"Aucune personne trouvée","persons.field.name":"Nom","persons.field.firstName":"Prénom","persons.field.email":"Email","persons.field.birthDate":"Date de naissance","persons.field.address":"Adresse","persons.field.postalCode":"Code postal","persons.field.city":"Ville","persons.field.phoneNumber":"Numéro de téléphone","persons.field.nationality":"Nationalité","users.editDialogLabel":"Modification d'un utilisateur","users.createDialogLabel":"Création d'un utilisateur","users.listTitle":"Liste des utilisateurs","users.noneFound":"Aucun utilisateur trouvé","users.field.email":"Email","users.field.profile.type":"Profil","users.field.profile.clubIds":"Clubs","field.edit":"Modifier","field.delete":"Supprimer","affiliation.prefectureNumber":"Numéro de dossier (préfecture)","affiliation.prefectureCity":"Préfecture","affiliation.siretNumber":"Numéro de Siret","affiliation.address":"Adresse","affiliation.postalCode":"Code postal","affiliation.city":"Ville","affiliation.phoneNumber":"Numéro de téléphone","affiliation.email":"Mail","affiliation.website":"Site Interner","affiliation.board.president":"Président","affiliation.board.secretary":"Secrétaire","affiliation.board.treasurer":"Trésorier","affiliation.board.electedDate":"Date d'élection","affiliation.board.membersNumber":"Nombre de membres","affiliation.affiliate":"S'affilier pour la {0}","affiliation.affiliateOneYear":"S'affilier pour une autre saison","affiliation.noAffiliation":"Votre club n'a jamais été affilié","affiliation.noAffiliationCurrentSeason":"Votre club n'est pas affilié pour la {0}","affiliation.reaffiliateEmpty":"Nouvelle affiliation","affiliation.reaffiliateFromExisting":"Initialiser depuis {0}","affiliation.status.TO_COMPLETE":"A compléter","affiliation.status.SUBMITTED":"Soumis","affiliation.status.VALIDATED":"Validé","affiliationsToValidate.title":"Affiliations à valider","sex.male":"Homme","sex.female":"Femme","http.error.delete":"Erreur lors de la suppression","http.error.put":"Erreur lors de la mise à jour","http.error.post":"Erreur lors de la création","http.error.get":"Erreur lors du chargement des données"}},fa73:function(e,t,a){"use strict";var i=a("0c83"),s=a.n(i);s.a}}]);